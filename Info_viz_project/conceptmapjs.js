var flaredata = {
  "ditems": [{
    "type": "ditem",
    "name": "Biography",
    "ditem": 0,
    "links": ["Adrien Brody",
"Angelina Jolie",
"Cate Blanchett",
"Charlize Theron",
"Christian Bale",
"Colin Firth",
"Daniel Day-Lewis",
"Eddie Redmayne",
"Forest Whitaker",
"Geoffrey Rush",
"Helen Mirren",
"Hilary Swank",
"Jamie Foxx",
"Jared Leto",
"Jennifer Connelly",
"Jim Broadbent",
"Julia Roberts",
"Lupita Nyong'o",
"Marcia Gay Harden",
"Marion Cotillard",
"Matthew McConaughey",
"Melissa Leo",
"Meryl Streep",
"Philip Seymour Hoffman",
"Reese Witherspoon",
"Sandra Bullock",
"Sean Penn"],
"movies":[
"The Pianist",
"The Danish Girl",
"Girl, Interrupted",
"The Aviator",
"Monster",
"The Fighter",
"The King's Speech",
"Lincoln",
"The Theory of Everything",
"The Last King of Scotland",
"Shine",
"The Queen",
"Boys Don't Cry",
"Ray",
"Dallas Buyers Club",
"A Beautiful Mind",
"Iris",
"Erin Brockovich",
"12 Years a Slave",
"Pollock",
"La Vie en Rose",
"Dallas Buyers Club",
"The Fighter",
"The Iron Lady",
"Capote",
"Walk the Line",
"The Blind Side",
"Milk",
],
"Awards":["Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
]
  }, {
    "type": "ditem",
    "name": "Action",
    "ditem": 1,
    "links": ["Heath Ledger",
"Russell Crowe"],
"movies":[
"The Dark Knight",
"Gladiator",
],
"Awards":[
"Actor in a Supporting Role",
"Actor in a Leading Role",]
  }, {
    "type": "ditem",
    "name": "Adventure",
    "ditem": 2,
    "links": ["Christoph Waltz",
"Leonardo DiCaprio",
"Renee Zellweger"],
 "movies":["Inglourious Basterds",
"The Revenant",
"Cold Mountain",
 ],
 "Awards":[
 "Actor in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",]
  },
  {
    "type": "ditem",
    "name": "Comedy",
    "ditem": 3,
    "links": ["Alan Arkin",
"Catherine Zeta-Jones",
"Chris Cooper",
"Christopher Plummer",
"Cuba Gooding, Jr.",
"Emma Stone",
"Gwyneth Paltrow",
"Helen Hunt",
"Jack Nicholson",
"Jean Dujardin",
"Jennifer Lawrence",
"Judi Dench",
"Mira Sorvino",
"Roberto Benigni",],
"movies":["Little Miss Sunshine",
"Chicago",
"Adaptation",
"Beginners",
"Jerry Maguire",
" La La Land",
"Shakespeare in Love",
"As Good as It Gets",
"As Good as It Gets",
"The Artist",
"Silver Linings Playbook",
"Shakespeare in Love",
"Mighty Aphrodite",
"Life Is Beautiful",],
"Awards":[
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",]
  }, {
    "type": "ditem",
    "name": "Crime",
    "ditem": 4,
    "links": ["Benicio Del Toro",
"Denzel Washington",
"Frances McDormand",
"Javier Bardem",
"Kevin Spacey",
"Kim Basinger",
"Sean Penn",
"Susan Sarandon",
"Tilda Swinton",
"Tim Robbins",
"Charlize Theron",
"Catherine Zeta-Jones",
"Hilary Swank",
"Heath Ledger",
"Philip Seymour Hoffman",],
"movies":["Traffic",
"Training Day",
"Fargo",
"No Country for Old Men",
"The Usual Suspects",
"L.A. Confidential",
"Mystic River",
"Dead Man Walking",
"Michael Clayton",
"Mystic River","Monster",
"Chicago",
"Boys Don't Cry",
"The Dark Knight",
"Capote",],
"Awards":[
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",]
  }, {
    "type": "ditem",
    "name": "Drama",
    "ditem": 5,
    "links": ["Anne Hathaway",
    "Philip Seymour Hoffman",
"Brie Larson",
"Heath Ledger",
"Casey Affleck",
"Cate Blanchett",
"Christoph Waltz",
"Daniel Day-Lewis",
"George Clooney",
"Halle Berry",
"Hilary Swank",
"J.K. Simmons",
"James Coburn",
"Jeff Bridges",
"Jennifer Hudson",
"Julianne Moore",
"Juliette Binoche",
"Kate Winslet",
"Kevin Spacey",
"Mahershala Ali",
"Mark Rylance",
"Michael Caine",
"Mo'Nique",
"Morgan Freeman",
"Natalie Portman",
"Nicolas Cage",
"Nicole Kidman",
"Octavia Spencer",
"Patricia Arquette",
"Penelope Cruz",
"Rachel Weisz",
"Robin Williams",
"Viola Davis",
"Adrien Brody",
"Alan Arkin",
"Alicia Vikander",
"Angelina Jolie",
"Benicio Del Toro",
"Cate Blanchett",
"Charlize Theron",
"Chris Cooper",
"Christian Bale",
"Christoph Waltz",
"Christopher Plummer",
"Colin Firth",
"Cuba Gooding, Jr.",
"Daniel Day-Lewis",
"Denzel Washington",
"Eddie Redmayne",
"Emma Stone",
"Forest Whitaker",
"Frances McDormand",
"Geoffrey Rush",
"Gwyneth Paltrow",
"Helen Hunt",
"Helen Mirren",
"Jack Nicholson",
"Jamie Foxx",
"Jared Leto",
"Javier Bardem",
"Jean Dujardin",
"Jennifer Connelly",
"Jennifer Lawrence",
"Jim Broadbent",
"Judi Dench",
"Julia Roberts",
"Kevin Spacey",
"Kim Basinger",
"Leonardo DiCaprio",
"Lupita Nyong'o",
"Marcia Gay Harden",
"Marion Cotillard",
"Matthew McConaughey",
"Melissa Leo",
"Meryl Streep",
"Reese Witherspoon",
"Renee Zellweger",
"Roberto Benigni",
"Russell Crowe",
"Sandra Bullock",
"Sean Penn",
"Sean Penn",
"Susan Sarandon",
"Tilda Swinton",
"Tim Robbins",],
"movies":["Les Miserables",
"Room",
"Manchester by the Sea",
"Blue Jasmine",
"Django Unchained",
"There Will Be Blood",
"Syriana",
"Syriana",
"Monster's Ball",
"Million Dollar Baby",
"Whiplash",
"Affliction",
"Crazy Heart",
"Dreamgirls",
"Still Alice",
"The English Patient",
"The Reader",
"American Beauty",
" Moonlight",
"Bridge of Spies",
"The Cider House Rules",
"Precious: Based on the Novel 'Push' by Sapphire",
"Million Dollar Baby",
"Black Swan",
"Leaving Las Vegas",
"The Hours",
"The Help",
"Boyhood",
"Vicky Cristina Barcelona",
"The Constant Gardener",
"Good Will Hunting",
" Fences",
"The Pianist",
"Little Miss Sunshine",
"The Danish Girl",
"Girl, Interrupted",
"Traffic",
"The Aviator",
"Adaptation",
"The Fighter",
"Inglourious Basterds",
"Beginners",
"The King's Speech",
"Jerry Maguire",
"Lincoln",
"Training Day",
"The Theory of Everything",
" La La Land",
"The Last King of Scotland",
"Fargo",
"Shine",
"Shakespeare in Love",
"As Good as It Gets",
"The Queen",
"As Good as It Gets",
"Ray",
"Dallas Buyers Club",
"No Country for Old Men",
"The Artist",
"A Beautiful Mind",
"Silver Linings Playbook",
"Iris",
"Shakespeare in Love",
"Erin Brockovich",
"The Usual Suspects",
"L.A. Confidential",
"The Revenant",
"12 Years a Slave",
"Pollock",
"La Vie en Rose",
"Dallas Buyers Club",
"The Fighter",
"The Iron Lady",
"Walk the Line",
"Cold Mountain",
"Life Is Beautiful",
"Gladiator",
"The Blind Side",
"Mystic River",
"Milk",
"Dead Man Walking",
"Michael Clayton",
"Mystic River",],
"Awards":["Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",]
  }, {
    "type": "ditem",
    "name": "History",
    "ditem": 6,
    "links": ["Mark Rylance","Colin Firth",
"Daniel Day-Lewis",
"Forest Whitaker",
"Lupita Nyong'o",
"Meryl Streep",
"Renee Zellweger",
"Sean Penn"],
"movies":["Bridge of Spies","The King's Speech",
"Lincoln",
"The Last King of Scotland",
"12 Years a Slave",
"The Iron Lady",
"Cold Mountain",
"Milk",],
"Awards":["Actor in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",]
  }, {
    "type": "ditem",
    "name": "Music",
    "ditem": 7,
    "links": ["J.K. Simmons",
"Jeff Bridges",
"Jennifer Hudson",
"Emma Stone",
"Geoffrey Rush",
"Jamie Foxx",
"Marion Cotillard",
"Reese Witherspoon",],
"movies":["Whiplash",
"Crazy Heart",
"Dreamgirls",
" La La Land",
"Shine",
"Ray",
"La Vie en Rose",
"Walk the Line",],
"Awards":[
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",]
  }, {
    "type": "ditem",
    "name": "Mystery",
    "ditem": 8,
    "links": ["James Coburn",
"Rachel Weisz",
"Kevin Spacey",
"Kim Basinger",
"Sean Penn",
"Tilda Swinton",
"Tim Robbins",],
"movies":["Affliction",
"The Constant Gardener",
"The Usual Suspects",
"L.A. Confidential",
"Mystic River",
"Michael Clayton",
"Mystic River",],
"Awards":["Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",]
  }, {
    "type": "ditem",
    "name": "Romance",
    "ditem": 9,
    "links": ["Halle Berry",
"Juliette Binoche",
"Kate Winslet",
"Michael Caine",
"Nicolas Cage",
"Nicole Kidman",
"Penelope Cruz","Alicia Vikander",
"Anne Hathaway",
"Christopher Plummer",
"Cuba Gooding, Jr.",
"Eddie Redmayne",
"Gwyneth Paltrow",
"Helen Hunt",
"Jack Nicholson",
"Jean Dujardin",
"Jeff Bridges",
"Jennifer Lawrence",
"Jim Broadbent",
"Judi Dench",
"Mira Sorvino",
"Rachel Weisz",
"Russell Crowe",
"Colin Firth",
"Geoffrey Rush",
"Hilary Swank",
"Reese Witherspoon",
"Renee Zellweger",],
"movies":[
"Monster's Ball",
"The English Patient",
"The Reader",
"The Cider House Rules",
"Leaving Las Vegas",
"The Hours",
"Vicky Cristina Barcelona",
"The Danish Girl",
"Les Miserables",
"Beginners",
"Jerry Maguire",
"The Theory of Everything",
"Shakespeare in Love",
"As Good as It Gets",
"As Good as It Gets",
"The Artist",
"Crazy Heart",
"Silver Linings Playbook",
"Iris",
"Shakespeare in Love",
"Mighty Aphrodite",
"The Constant Gardener",
"Gladiator",
"The King's Speech",
"Shine",
"Boys Don't Cry",
"Walk the Line",
"Cold Mountain",],
"Awards":[
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Leading Role",
"Actress in a Leading Role",
"Actress in a Supporting Role",]
  }, {
    "type": "ditem",
    "name": "Sport",
    "ditem": 10,
    "links": ["Hilary Swank",
"Morgan Freeman",
"Christian Bale",
"Melissa Leo",
"Sandra Bullock",
"Cuba Gooding, Jr.",],
"movies":["Million Dollar Baby",
"Million Dollar Baby",
"The Fighter",
"The Fighter",
"The Blind Side",
"Jerry Maguire",],
"Awards":["Actress in a Leading Role",
"Actor in a Supporting Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actress in a Leading Role",
"Actor in a Supporting Role",]
  }, {
    "type": "ditem",
    "name": "Thriller",
    "ditem": 11,
    "links": ["George Clooney",
    "Heath Ledger",
"Natalie Portman","Benicio Del Toro",
"Denzel Washington",
"Frances McDormand",
"Javier Bardem",
"Leonardo DiCaprio",
"Charlize Theron",
"Mark Rylance"],
"movies":["Syriana",
"Black Swan",],
"Awards":["Actor in a Supporting Role",
"Actress in a Leading Role",]
  }, {
    "type": "ditem",
    "name": "Western",
    "ditem": 12,
    "links": ["Christoph Waltz","Leonardo DiCaprio"],
    "movies":["Django Unchained","The Revenant",],
    "Awards":["Actor in a Supporting Role","Actor in a Leading Role",]
  }, {
    "type": "ditem",
    "name": "Musical",
    "ditem": 13,
    "links": ["Anne Hathaway","Catherine Zeta-Jones",
"Jennifer Hudson"],
"movies":["Les Miserables"],
"Awards":["Actress in a Supporting Role"]
  }, {
    "type": "ditem",
    "name": "War",
    "ditem": 14,
    "links": ["Adrien Brody",
"Christoph Waltz",
"Juliette Binoche",
"Roberto Benigni",
"Daniel Day-Lewis",
"Renee Zellweger"],
"movies":["The Pianist",
"Inglourious Basterds",
"The English Patient",
"Life Is Beautiful",
"Lincoln",
"Cold Mountain",],
"Awards":["Actor in a Leading Role",
"Actor in a Supporting Role",
"Actress in a Supporting Role",
"Actor in a Leading Role",
"Actor in a Leading Role",
"Actress in a Supporting Role",]
  }],

  "themes": [{"description": [], "type": "theme", "genre": ["Biography|Drama|War"], "slug": "Adrien Brody", "award": ["Actor in a Leading Role"], "name": "Adrien Brody", "film": ["The Pianist"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama"], "slug": "Alan Arkin", "award": ["Actor in a Supporting Role"], "name": "Alan Arkin", "film": ["Little Miss Sunshine"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Romance"], "slug": "Alicia Vikander", "award": ["Actress in a Supporting Role"], "name": "Alicia Vikander", "film": ["The Danish Girl"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama"], "slug": "Angelina Jolie", "award": ["Actress in a Supporting Role"], "name": "Angelina Jolie", "film": ["Girl"]}, {"description": [], "type": "theme", "genre": ["Drama|Musical|Romance"], "slug": "Anne Hathaway", "award": ["Actress in a Supporting Role"], "name": "Anne Hathaway", "film": ["Les Miserables"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Thriller"], "slug": "Benicio Del Toro", "award": ["Actor in a Supporting Role"], "name": "Benicio Del Toro", "film": ["Traffic"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Brie Larson", "award": ["Actress in a Leading Role"], "name": "Brie Larson", "film": ["Room"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Casey Affleck", "award": ["Actor in a Leading Role"], "name": "Casey Affleck", "film": ["Manchester by the Sea"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama", "Drama"], "slug": "Cate Blanchett", "award": ["Actress in a Supporting Role", "Actress in a Leading Role"], "name": "Cate Blanchett", "film": ["The Aviator", "Blue Jasmine"]}, {"description": [], "type": "theme", "genre": ["Comedy|Crime|Musical"], "slug": "Catherine Zeta-Jones", "award": ["Actress in a Supporting Role"], "name": "Catherine Zeta-Jones", "film": ["Chicago"]}, {"description": [], "type": "theme", "genre": ["Biography|Crime|Drama|Thriller"], "slug": "Charlize Theron", "award": ["Actress in a Leading Role"], "name": "Charlize Theron", "film": ["Monster"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama"], "slug": "Chris Cooper", "award": ["Actor in a Supporting Role"], "name": "Chris Cooper", "film": ["Adaptation"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Sport"], "slug": "Christian Bale", "award": ["Actor in a Supporting Role"], "name": "Christian Bale", "film": ["The Fighter"]}, {"description": [], "type": "theme", "genre": ["Adventure|Drama|War", "Drama|Western"], "slug": "Christoph Waltz", "award": ["Actor in a Supporting Role", "Actor in a Supporting Role"], "name": "Christoph Waltz", "film": ["Inglourious Basterds", "Django Unchained"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance"], "slug": "Christopher Plummer", "award": ["Actor in a Supporting Role"], "name": "Christopher Plummer", "film": ["Beginners"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|History|Romance"], "slug": "Colin Firth", "award": ["Actor in a Leading Role"], "name": "Colin Firth", "film": ["The King's Speech"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance|Sport"], "slug": "Cuba Gooding, Jr.", "award": ["Actor in a Supporting Role"], "name": "Cuba Gooding, Jr.", "film": ["Jerry Maguire"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|History|War", "Drama"], "slug": "Daniel Day-Lewis", "award": ["Actor in a Leading Role", "Actor in a Leading Role"], "name": "Daniel Day-Lewis", "film": ["Lincoln", "There Will Be Blood"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Thriller"], "slug": "Denzel Washington", "award": ["Actor in a Leading Role"], "name": "Denzel Washington", "film": ["Training Day"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Romance"], "slug": "Eddie Redmayne", "award": ["Actor in a Leading Role"], "name": "Eddie Redmayne", "film": ["The Theory of Everything"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Music"], "slug": "Emma Stone", "award": ["Actress in a Leading Role"], "name": "Emma Stone", "film": [" La La Land  "]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|History|Thriller"], "slug": "Forest Whitaker", "award": ["Actor in a Leading Role"], "name": "Forest Whitaker", "film": ["The Last King of Scotland"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Thriller"], "slug": "Frances McDormand", "award": ["Actress in a Leading Role"], "name": "Frances McDormand", "film": ["Fargo"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Music|Romance"], "slug": "Geoffrey Rush", "award": ["Actor in a Leading Role"], "name": "Geoffrey Rush", "film": ["Shine"]}, {"description": [], "type": "theme", "genre": ["Drama|Thriller", "Drama|Thriller"], "slug": "George Clooney", "award": ["Actor in a Supporting Role", "Actor in a Supporting Role"], "name": "George Clooney", "film": ["Syriana", "Syriana"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance"], "slug": "Gwyneth Paltrow", "award": ["Actress in a Leading Role"], "name": "Gwyneth Paltrow", "film": ["Shakespeare in Love"]}, {"description": [], "type": "theme", "genre": ["Drama|Romance"], "slug": "Halle Berry", "award": ["Actress in a Leading Role"], "name": "Halle Berry", "film": ["Monster's Ball"]}, {"description": [], "type": "theme", "genre": ["Action|Crime|Drama|Thriller"], "slug": "Heath Ledger", "award": ["Actor in a Supporting Role"], "name": "Heath Ledger", "film": ["The Dark Knight"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance"], "slug": "Helen Hunt", "award": ["Actress in a Leading Role"], "name": "Helen Hunt", "film": ["As Good as It Gets"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama"], "slug": "Helen Mirren", "award": ["Actress in a Leading Role"], "name": "Helen Mirren", "film": ["The Queen"]}, {"description": [], "type": "theme", "genre": ["Drama|Sport", "Biography|Crime|Drama|Romance"], "slug": "Hilary Swank", "award": ["Actress in a Leading Role", "Actress in a Leading Role"], "name": "Hilary Swank", "film": ["Million Dollar Baby", "Boys Don't Cry"]}, {"description": [], "type": "theme", "genre": ["Drama|Music"], "slug": "J.K. Simmons", "award": ["Actor in a Supporting Role"], "name": "J.K. Simmons", "film": ["Whiplash"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance"], "slug": "Jack Nicholson", "award": ["Actor in a Leading Role"], "name": "Jack Nicholson", "film": ["As Good as It Gets"]}, {"description": [], "type": "theme", "genre": ["Drama|Mystery|Thriller"], "slug": "James Coburn", "award": ["Actor in a Supporting Role"], "name": "James Coburn", "film": ["Affliction"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Music"], "slug": "Jamie Foxx", "award": ["Actor in a Leading Role"], "name": "Jamie Foxx", "film": ["Ray"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama"], "slug": "Jared Leto", "award": ["Actor in a Supporting Role"], "name": "Jared Leto", "film": ["Dallas Buyers Club"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Thriller"], "slug": "Javier Bardem", "award": ["Actor in a Supporting Role"], "name": "Javier Bardem", "film": ["No Country for Old Men"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance"], "slug": "Jean Dujardin", "award": ["Actor in a Leading Role"], "name": "Jean Dujardin", "film": ["The Artist"]}, {"description": [], "type": "theme", "genre": ["Drama|Music|Romance"], "slug": "Jeff Bridges", "award": ["Actor in a Leading Role"], "name": "Jeff Bridges", "film": ["Crazy Heart"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama"], "slug": "Jennifer Connelly", "award": ["Actress in a Supporting Role"], "name": "Jennifer Connelly", "film": ["A Beautiful Mind"]}, {"description": [], "type": "theme", "genre": ["Drama|Music|Musical"], "slug": "Jennifer Hudson", "award": ["Actress in a Supporting Role"], "name": "Jennifer Hudson", "film": ["Dreamgirls"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance"], "slug": "Jennifer Lawrence", "award": ["Actress in a Leading Role"], "name": "Jennifer Lawrence", "film": ["Silver Linings Playbook"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Romance"], "slug": "Jim Broadbent", "award": ["Actor in a Supporting Role"], "name": "Jim Broadbent", "film": ["Iris"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|Romance"], "slug": "Judi Dench", "award": ["Actress in a Supporting Role"], "name": "Judi Dench", "film": ["Shakespeare in Love"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama"], "slug": "Julia Roberts", "award": ["Actress in a Leading Role"], "name": "Julia Roberts", "film": ["Erin Brockovich"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Julianne Moore", "award": ["Actress in a Leading Role"], "name": "Julianne Moore", "film": ["Still Alice"]}, {"description": [], "type": "theme", "genre": ["Drama|Romance|War"], "slug": "Juliette Binoche", "award": ["Actress in a Supporting Role"], "name": "Juliette Binoche", "film": ["The English Patient"]}, {"description": [], "type": "theme", "genre": ["Drama|Romance"], "slug": "Kate Winslet", "award": ["Actress in a Leading Role"], "name": "Kate Winslet", "film": ["The Reader"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Mystery|Thriller", "Drama"], "slug": "Kevin Spacey", "award": ["Actor in a Supporting Role", "Actor in a Leading Role"], "name": "Kevin Spacey", "film": ["The Usual Suspects", "American Beauty"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Mystery|Thriller"], "slug": "Kim Basinger", "award": ["Actress in a Supporting Role"], "name": "Kim Basinger", "film": ["L.A. Confidential"]}, {"description": [], "type": "theme", "genre": ["Adventure|Drama|Thriller|Western"], "slug": "Leonardo DiCaprio", "award": ["Actor in a Leading Role"], "name": "Leonardo DiCaprio", "film": ["The Revenant"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|History"], "slug": "Lupita Nyong'o", "award": ["Actress in a Supporting Role"], "name": "Lupita Nyong'o", "film": ["12 Years a Slave"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Mahershala Ali", "award": ["Actor in a Supporting Role"], "name": "Mahershala Ali", "film": [" Moonlight  "]}, {"description": [], "type": "theme", "genre": ["Biography|Drama"], "slug": "Marcia Gay Harden", "award": ["Actress in a Supporting Role"], "name": "Marcia Gay Harden", "film": ["Pollock"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Music"], "slug": "Marion Cotillard", "award": ["Actress in a Leading Role"], "name": "Marion Cotillard", "film": ["La Vie en Rose"]}, {"description": [], "type": "theme", "genre": ["Drama|History|Thriller"], "slug": "Mark Rylance", "award": ["Actor in a Supporting Role"], "name": "Mark Rylance", "film": ["Bridge of Spies"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama"], "slug": "Matthew McConaughey", "award": ["Actor in a Leading Role"], "name": "Matthew McConaughey", "film": ["Dallas Buyers Club"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Sport"], "slug": "Melissa Leo", "award": ["Actress in a Supporting Role"], "name": "Melissa Leo", "film": ["The Fighter"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|History"], "slug": "Meryl Streep", "award": ["Actress in a Leading Role"], "name": "Meryl Streep", "film": ["The Iron Lady"]}, {"description": [], "type": "theme", "genre": ["Drama|Romance"], "slug": "Michael Caine", "award": ["Actor in a Supporting Role"], "name": "Michael Caine", "film": ["The Cider House Rules"]}, {"description": [], "type": "theme", "genre": ["Comedy|Fantasy|Romance"], "slug": "Mira Sorvino", "award": ["Actress in a Supporting Role"], "name": "Mira Sorvino", "film": ["Mighty Aphrodite"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Mo'Nique", "award": ["Actress in a Supporting Role"], "name": "Mo'Nique", "film": ["Precious: Based on the Novel 'Push' by Sapphire"]}, {"description": [], "type": "theme", "genre": ["Drama|Sport"], "slug": "Morgan Freeman", "award": ["Actor in a Supporting Role"], "name": "Morgan Freeman", "film": ["Million Dollar Baby"]}, {"description": [], "type": "theme", "genre": ["Drama|Thriller"], "slug": "Natalie Portman", "award": ["Actress in a Leading Role"], "name": "Natalie Portman", "film": ["Black Swan"]}, {"description": [], "type": "theme", "genre": ["Drama|Romance"], "slug": "Nicolas Cage", "award": ["Actor in a Leading Role"], "name": "Nicolas Cage", "film": ["Leaving Las Vegas"]}, {"description": [], "type": "theme", "genre": ["Drama|Romance"], "slug": "Nicole Kidman", "award": ["Actress in a Leading Role"], "name": "Nicole Kidman", "film": ["The Hours"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Octavia Spencer", "award": ["Actress in a Supporting Role"], "name": "Octavia Spencer", "film": ["The Help"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Patricia Arquette", "award": ["Actress in a Supporting Role"], "name": "Patricia Arquette", "film": ["Boyhood"]}, {"description": [], "type": "theme", "genre": ["Drama|Romance"], "slug": "Penelope Cruz", "award": ["Actress in a Supporting Role"], "name": "Penelope Cruz", "film": ["Vicky Cristina Barcelona"]}, {"description": [], "type": "theme", "genre": ["Biography|Crime|Drama"], "slug": "Philip Seymour Hoffman", "award": ["Actor in a Leading Role"], "name": "Philip Seymour Hoffman", "film": ["Capote"]}, {"description": [], "type": "theme", "genre": ["Drama|Mystery|Romance|Thriller"], "slug": "Rachel Weisz", "award": ["Actress in a Supporting Role"], "name": "Rachel Weisz", "film": ["The Constant Gardener"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Music|Romance"], "slug": "Reese Witherspoon", "award": ["Actress in a Leading Role"], "name": "Reese Witherspoon", "film": ["Walk the Line"]}, {"description": [], "type": "theme", "genre": ["Adventure|Drama|History|Romance|War"], "slug": "Renee Zellweger", "award": ["Actress in a Supporting Role"], "name": "Renee Zellweger", "film": ["Cold Mountain"]}, {"description": [], "type": "theme", "genre": ["Comedy|Drama|War"], "slug": "Roberto Benigni", "award": ["Actor in a Leading Role"], "name": "Roberto Benigni", "film": ["Life Is Beautiful"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Robin Williams", "award": ["Actor in a Supporting Role"], "name": "Robin Williams", "film": ["Good Will Hunting"]}, {"description": [], "type": "theme", "genre": ["Action|Drama|Romance"], "slug": "Russell Crowe", "award": ["Actor in a Leading Role"], "name": "Russell Crowe", "film": ["Gladiator"]}, {"description": [], "type": "theme", "genre": ["Biography|Drama|Sport"], "slug": "Sandra Bullock", "award": ["Actress in a Leading Role"], "name": "Sandra Bullock", "film": ["The Blind Side"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Mystery|Thriller", "Biography|Drama|History"], "slug": "Sean Penn", "award": ["Actor in a Leading Role", "Actor in a Leading Role"], "name": "Sean Penn", "film": ["Mystic River", "Milk"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama"], "slug": "Susan Sarandon", "award": ["Actress in a Leading Role"], "name": "Susan Sarandon", "film": ["Dead Man Walking"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Mystery|Thriller"], "slug": "Tilda Swinton", "award": ["Actress in a Supporting Role"], "name": "Tilda Swinton", "film": ["Michael Clayton"]}, {"description": [], "type": "theme", "genre": ["Crime|Drama|Mystery|Thriller"], "slug": "Tim Robbins", "award": ["Actor in a Supporting Role"], "name": "Tim Robbins", "film": ["Mystic River"]}, {"description": [], "type": "theme", "genre": ["Drama"], "slug": "Viola Davis", "award": ["Actress in a Supporting Role"], "name": "Viola Davis", "film": ["Fences"]}
  ]};

$(function() {
  plotConceptMap();
});

function plotConceptMap() {
  var plot = ConceptMap("graph", "graph-info", flaredata);
}
//ConceptMap.js
function ConceptMap(chartElementId, infoElementId, dataJson) {

  var width = 900; //window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
  var height = 500; // window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
  
  var a = width,
    c = height,
    h = c,
    U = 100,
    K = 22,
    S = 20,
    s = 8,
    R = -20, // Radius for node circle 110
    J = 30,
    o = 15,
    t = 5,
    w = 400,
    F = "elastic",
    N = "darkred";
  var T, q, x, j, H, A, P;
  var L = {},
    k = {};
  var i, y;
  var r = d3.layout.tree().size([360, h / 2 - R]).separation(function(Y, X) {
    return (Y.parent == X.parent ? 1 : 2) / Y.depth
  });
  var W = d3.svg.diagonal.radial().projection(function(X) {
    return [X.y, X.x / 180 * Math.PI]
  });
  var v = d3.svg.line().x(function(X) {
    return X[0]
  }).y(function(X) {
    return X[1]
  }).interpolate("bundle").tension(0.5);
  //Node name at Footer
  var Nh = (c / 2) + 100;
  var svgHeight = c + 300;
  var d = d3.select("#" + chartElementId).append("svg").attr("width", a).attr("height", svgHeight).append("g").attr("transform", "translate(" + a / 2 + "," + Nh + ")");
  var I = d.append("rect").attr("class", "bg").attr({
    x: a / -2,
    y: c / -2,
    width: a,
    height: c,
    fill: "transparent"
  });
  var B = d.append("g").attr("class", "links"),
    f = d.append("g").attr("class", "ditems"),
    E = d.append("g").attr("class", "nodes");

actorSelector = function (x) {
  var element = document.getElementById("actor");
  var d = element.options[element.selectedIndex].value;

  E.classed("nodes", function(x) { console.log("here"); if(x.name === d) { g(x)}; });
    



}
// Define the div for the tooltip
/*var tooltip = d3.select("#container1")
    .style("position", "relative")
    .style("z-index", "10")
    .style("visibility", "hidden")
    .text("a simple tooltip");
*/
var tooltip1 = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);

var resetSelector = function (d) {
  var element = document.getElementById("reset");
  var d = element.value;
  
  if (d === "Reset")
  {
    node
      .classed(".node", function(X) { if(X.name === d) { n(X)}; })
    document.getElementById("actor").value = "default";
    tooltip.style("visibility", "hidden");
    }


}


  var Q = d3.select("#" + infoElementId);

  T = d3.map(dataJson);
  q = d3.merge(T.values());
  x = {};
  A = d3.map();

  /**********************/
  var outerId = [0];


  /**********************/

  q.forEach(function(aa) {
    aa.key = p(aa.name);
    aa.canonicalKey = aa.key;
    x[aa.key] = aa;

    if (aa.group) {
      if (!A.has(aa.group)) {
        A.set(aa.group, [])
      }
      A.get(aa.group).push(aa);
    }
  });



  /***********Used for Node color on mouse over=Start**********/
  j = d3.map();

  T.get("ditems").forEach(function(aa) {
    aa.links = aa.links.filter(function(ab) {
      return typeof x[p(ab)] !== "undefined" //&& ab.indexOf("r-") !== 0
    });

    j.set(aa.key, aa.links.map(function(ab) {
      var ac = p(ab);
      if (typeof j.get(ac) === "undefined") {
        j.set(ac, [])
      }
      j.get(ac).push(aa);
      return x[ac];
    }));

    
  });
  /*********Used for Node color on mouse over- End***********/
  var Z = window.location.hash.substring(1);
  if (Z && x[Z]) {
    G(x[Z]);
  } else {
    O();
    M();
  }

  window.onhashchange = function() {
    var aa = window.location.hash.substring(1);
    if (aa && x[aa]) {
      G(x[aa], true)
    }
  };

  

  function O() {
    if (L.node === null) {
      return
    }
    L = {
      node: null,
      map: {}
    };
    i = Math.floor(c / T.get("ditems").length);
    y = Math.floor(T.get("ditems").length * i / 2);
    T.get("ditems").forEach(function(af, ae) {
      af.x = U / -2;
      af.y = ae * i - y
    });
    //Half circular nodes var ad = 180 + J,
    // Full Circular nodes var ad = 0 + J,
    var ad = 0 + J,
      // Z = 360 - J,
      Z = 360 - J,
      ac = (Z - ad) / (T.get("themes").length - 1);
    T.get("themes").forEach(function(af, ae) {
      /*Node with rectangle= start*/
      af.x = Z - ae * ac;
      af.y = h / 2 - R;
      //            af.xOffset = -S;
      af.xOffset = -S;
      af.depth = 1
        /*Node with rectange= End*/
    });
    //  ad = J;
    //  Z = 180 - J;
    //        ac = (Z - ad) / (T.get("perspectives").length - 1);
    //        T.get("perspectives").forEach(function (af, ae) {
    //            af.x = ae * ac + ad;
    //            af.y = h / 2 - R;
    //            af.xOffset = S;
    //            af.depth = 1
    //        });
    // New Code

    H = [];
    var ab, Y, aa, X = h / 2 - R;
    T.get("ditems").forEach(function(ae) {
      ae.links.forEach(function(af) {
        ab = x[p(af)];
        if (!ab || ab.type === "reference") {
          return
        }
        Y = (ab.x - 90) * Math.PI / 180;
        aa = ae.key + "-to-" + ab.key;
        H.push({
          source: ae,
          target: ab,
          key: aa,
          canonicalKey: aa,
          x1: ae.x + (ab.type === "theme" ? 0 : U),
          y1: ae.y + K / 2,
          x2: Math.cos(Y) * X + ab.xOffset,
          y2: Math.sin(Y) * X
        })
      })
    });
         
    P = [];
    A.forEach(function(af, ag) {
      var ae = (ag[0].x - 90) * Math.PI / 180;
      //a2 = (ag[1].x - 90) * Math.PI / 180, bulge = 20;
      P.push({
        x1: Math.cos(ae) * X + ag[0].xOffset,

        y1: Math.sin(ae) * X //,
          //xx: Math.cos((ae + a2) / 2) * (X + bulge) + ag[0].xOffset,
          // yy: Math.sin((ae + a2) / 2) * (X + bulge),
          // x2: Math.cos(a2) * X + ag[1].xOffset,
          //  y2: Math.sin(a2) * X
      })
    });
    window.location.hash = "";
    M()
  }

  function G(Y, X) {

    if (L.node === Y && X !== true) {
      if (Y.type === "ditem") {
        window.location.href = "/" + Y.slug;
        return
      }
      L.node.children.forEach(function(aa) {
        aa.children = aa._group
      });
      e();
      return
    }
    if (Y.isGroup) {
      L.node.children.forEach(function(aa) {
        aa.children = aa._group
      });
      Y.parent.children = Y.parent._children;
      e();
      return
    }
    Y = x[Y.canonicalKey];
    q.forEach(function(aa) {
      aa.parent = null;
      aa.children = [];
      aa._children = [];
      aa._group = [];
      aa.canonicalKey = aa.key;
      aa.xOffset = 0
    });
    L.node = Y;
    L.node.children = j.get(Y.canonicalKey);
    L.map = {};


    var Z = 0;
    L.node.children.forEach(function(ac) {
      L.map[ac.key] = true;
      ac._children = j.get(ac.key).filter(function(ad) {
        return ad.canonicalKey !== Y.canonicalKey
      });
      ac._children = JSON.parse(JSON.stringify(ac._children));
      ac._children.forEach(function(ad) {
        ad.canonicalKey = ad.key;
        ad.key = ac.key + "-" + ad.key;
        L.map[ad.key] = true
      });
      var aa = ac.key + "-group",
        ab = ac._children.length;
      ac._group = [{
        isGroup: true,
        key: aa + "-group-key",
        canonicalKey: aa,
        name: ab,
        count: ab,
        xOffset: 0
      }];
      L.map[aa] = true;
      Z += ab
    });
    L.node.children.forEach(function(aa) {
      aa.children = Z > 50 ? aa._group : aa._children
    });
    window.location.hash = L.node.key;
    e()
  }

  function n() {
    tooltip1.style("visibility", "hidden");
    k = {
      node: null,
      map: {}
    };
    z()
  }

  function g(X) {
  
if (X.type === "theme")
{
  var d = X;
  fulltext = "";
  var i = 0;
  while(i<d.award.length)
  {
    if(i == 0){
      fulltext = fulltext + "<b>Name:</b>  "+d.name +"<br/>";
    }
  fulltext = fulltext +" <b>Movie:</b> "+d.film[i]+ ", <b>Award:</b> "+d.award[i]+ ", <b>Genre:</b> "+d.genre[i]+"<br/>";
  i++;
  }
  //document.getElementById('container1').innerHTML = fulltext;
   tooltip1.transition()
         .duration(200)
         .style("opacity", .9);
  tooltip1.html(fulltext);
  tooltip1.style("left", (d3.event.pageX - 10) + "px")
         .style("top", (d3.event.pageY - 20) + "px");
  tooltip1.style("visibility", "visible");
}

    if (k.node === X) {
      return
    }
    k.node = X;
    k.map = {};
    k.map[X.key] = true;
    if (X.key !== X.canonicalKey) {
      k.map[X.parent.canonicalKey] = true;
      k.map[X.parent.canonicalKey + "-to-" + X.canonicalKey] = true;
      k.map[X.canonicalKey + "-to-" + X.parent.canonicalKey] = true
    } else {
      j.get(X.canonicalKey).forEach(function(Y) {
        k.map[Y.canonicalKey] = true;
        k.map[X.canonicalKey + "-" + Y.canonicalKey] = true
      });
      H.forEach(function(Y) {
        if (k.map[Y.source.canonicalKey] && k.map[Y.target.canonicalKey]) {
          k.map[Y.canonicalKey] = true
        }
      })
    }
    z()
  }

  function M() {
    V();
    B.selectAll("path").attr("d", function(X) {
      return v([
        [X.x1, X.y1],
        [X.x1, X.y1],
        [X.x1, X.y1]
      ])
    }).transition().duration(w).ease(F).attr("d", function(X) {
      return v([
        [X.x1, X.y1],
        [X.target.xOffset * s, 0],
        [X.x2, X.y2]
      ])
    });
    D(T.get("ditems"));
    //        b(d3.merge([T.get("themes"), T.get("perspectives")]));
    b(T.get("themes"));
    C([]);
    m(P);

    n();
    z()
  }

  function e() {
    var X = r.nodes(L.node);
    X.forEach(function(Z) {
      if (Z.depth === 1) {
        Z.y -= 20
      }
    });
    H = r.links(X);
    H.forEach(function(Z) {
      if (Z.source.type === "ditem") {
        Z.key = Z.source.canonicalKey + "-to-" + Z.target.canonicalKey
      } else {
        Z.key = Z.target.canonicalKey + "-to-" + Z.source.canonicalKey
      }
      Z.canonicalKey = Z.key
    });
    V();
    B.selectAll("path").transition().duration(w).ease(F).attr("d", W);
    D([]);
    b(X);
    C([L.node]);
    m([]);
    var Y = "";
    if (L.node.description) {
      Y = L.node.description
    }
    // Node Click Start
    if (L.node.name) {
      BindGridView(L.node.name);
    }
    // Node Click End
    Q.html(Y);
    n();
    z()
  }

  function b(X) {
    var X = E.selectAll(".node").data(X, u).on("mouseover", g).on("mouseout", n);
    var Y = X.enter().append("g").attr("transform", function(aa) {

      var Z = aa.parent ? aa.parent : {
        xOffset: 0,
        x: 0,
        y: 0
      };
      return "translate(" + Z.xOffset + ",0)rotate(" + (Z.x - 90) + ")translate(" + Z.y + ")"
    }).attr("class", "node").on("mouseover", g).on("mouseout", n);
    //Y.append("circle").attr("r", 0);
    Y.append("text").attr("stroke", "#fff").attr("stroke-width", 4).attr("class", "label-stroke");
    Y.append("text").attr("font-size", 0).attr("class", "label");
    X.transition().duration(w).ease(F).attr("transform", function(Z) {
      if (Z === L.node) {
        return null
      }
      var aa = Z.isGroup ? Z.y + (7 + Z.count) : Z.y;
      return "translate(" + Z.xOffset + ",0)rotate(" + (Z.x - 90) + ")translate(" + aa + ")"
    });
    X.selectAll("circle").transition().duration(w).ease(F).attr("r", function(Z) {
      if (Z == L.node) {
        return 100
      } else {
        if (Z.isGroup) {
          return 7 + Z.count
        } else {
          return 4.5
        }
      }
    });
    X.selectAll("text").transition().duration(w).ease(F).attr("dy", ".3em").attr("font-size", function(Z) {
      if (Z.depth === 0) {
        return 20
      } else {
        return 15
      }
    }).text(function(Z) {
      return Z.name
    }).attr("text-anchor", function(Z) {
      if (Z === L.node || Z.isGroup) {
        return "middle"
      }
      return Z.x < 180 ? "start" : "end"
    }).attr("transform", function(Z) {
      if (Z === L.node) {
        return null
      } else {
        if (Z.isGroup) {
          return Z.x > 180 ? "rotate(180)" : null
        }
      }
      return Z.x < 180 ? "translate(" + t + ")" : "rotate(180)translate(-" + t + ")"
    });
    X.selectAll("text.label-stroke").attr("display", function(Z) {
      return Z.depth === 1 ? "block" : "none"
    });
    X.exit().remove()
  }

  function V() {
    var X = B.selectAll("path").data(H, u);
    X.enter().append("path").attr("d", function(Z) {
      var Y = Z.source ? {
        x: Z.source.x,
        y: Z.source.y
      } : {
        x: 0,
        y: 0
      };
      return W({
        source: Y,
        target: Y
      })
    }).attr("class", "link");
    X.exit().remove()
  }

  function C(Z) {
    var ac = d.selectAll(".detail").data(Z, u);
    var Y = ac.enter().append("g").attr("class", "detail");
    var ab = Z[0];
    if (ab && ab.type === "ditem") {
      var aa = Y.append("a").attr("xlink:href", function(ae) {
        return "/" + ae.slug
      });
      aa.append("text").attr("fill", N).attr("text-anchor", "middle").attr("y", (o + t) * -1).text(function(ae) {
        return "ITEM " + ae.ditem
      })
    } else {
      if (ab && ab.type === "theme") {
        Y.append("text").attr("fill", "#aaa").attr("text-anchor", "middle").attr("y", (o + t) * -1)
      } else {
        //                if (ab && ab.type === "perspective") {
        //                    var ad = ac.selectAll(".pair").data(A.get(ab.group).filter(function (ae) {
        //                        return ae !== ab
        //                    }), u);
        //                    ad.enter().append("text").attr("fill", "#aaa").attr("text-anchor", "middle").attr("y", function (af, ae) {
        //                        return (o + t) * 2 + (ae * (o + t))
        //                    }).text(function (ae) {
        //                        return "(vs. " + ae.name + ")"
        //                    }).attr("class", "pair").on("click", G);
        //                    Y.append("text").attr("fill", "#aaa").attr("text-anchor", "middle").attr("y", (o + t) * -1).text("PERSPECTIVE");
        //                    ad.exit().remove()
        //                }
        // New code


      }
    }
    ac.exit().remove();
    var X = d.selectAll(".all-ditems").data(Z);
    X.enter().append("text").attr("text-anchor", "start").attr("x", a / -2 + t).attr("y", c / 2 - t).text("all data").attr("class", "all-ditems").on("click", O);
    X.exit().remove()
  }

  function D(Y) {
   
    var Y = f.selectAll(".ditem").data(Y, u);
    var X = Y.enter().append("g").attr("class", "ditem").on("mouseover", g).on("mouseout", n);
    X.append("rect").attr("x", U / -2).attr("y", K / -2).attr("width", U).attr("height", K).transition().duration(w).ease(F).attr("x", function(Z) {
      return Z.x
    }).attr("y", function(Z) {
      return Z.y
    });
    X.append("text").attr("x", function(Z) {
      return U / -2 + t
    }).attr("y", function(Z) {
      return K / -2 + o
    }).attr("fill", "#fff").text(function(Z) {
      // Remove / from Text
      var n = Z.name.lastIndexOf('/');
      var PageName = Z.name.substring(n + 1);
      return PageName
        //return Z.name
    }).transition().duration(w).ease(F).attr("x", function(Z) {
      return Z.x + t
    }).attr("y", function(Z) {
      return Z.y + o
    });
    Y.exit().selectAll("rect").transition().duration(w).ease(F).attr("x", function(Z) {
      return U / -2
    }).attr("y", function(Z) {
      return K / -2
    });
    Y.exit().selectAll("text").transition().duration(w).ease(F).attr("x", function(Z) {
      return U / -2 + t
    }).attr("y", function(Z) {
      return K / -2 + o
    });
    Y.exit().transition().duration(w).remove()
  }

  function m(Y) {
    var X = f.selectAll("path").data(Y);
    X.enter().append("path").attr("d", function(Z) {
      return v([
        [Z.x1, Z.y1],
        [Z.x1, Z.y1],
        [Z.x1, Z.y1]
      ])
    }).attr("stroke", "#000").attr("stroke-width", 1.5).transition().duration(w).ease(F).attr("d", function(Z) {
      return v([
        [Z.x1, Z.y1],
        [Z.xx, Z.yy],
        [Z.x2, Z.y2]
      ])
    });
    X.exit().remove()
  }

  function z() {
    f.selectAll("rect").attr("fill", function(X) {
      return l(X, "#000", N, "#000")
    });
    B.selectAll("path").attr("stroke", function(X) {
      return l(X, "#aaa", N, "#aaa")
    }).attr("stroke-width", function(X) {
      return l(X, "1.5px", "2.5px", "1px")
    }).attr("opacity", function(X) {
      return l(X, 0.4, 0.75, 0.3)
    }).sort(function(Y, X) {
      if (!k.node) {
        return 0
      }
      var aa = k.map[Y.canonicalKey] ? 1 : 0,
        Z = k.map[X.canonicalKey] ? 1 : 0;
      return aa - Z
    });
    E.selectAll("circle").attr("fill", function(X) {
      if (X === L.node) {
        return "#000"
      } else {
        if (X.type === "theme") {
          return l(X, "#666", N, "#000")
        } //else {
        //                    if (X.type === "perspective") {
        //                        return "#fff"
        //                    }
        // }
        // New code

      }
      return l(X, "#000", N, "#999")
    }).attr("stroke", function(X) {
      if (X === L.node) {
        return l(X, null, N, null)
      } else {
        if (X.type === "theme") {
          return "#000"
        } else {
          //                    if (X.type === "perspective") {
          //                        return l(X, "#000", N, "#000")
          //                    }

        }
      }
      return null
    }).attr("stroke-width", function(X) {
      if (X === L.node) {
        return l(X, null, 2.5, null)
      } else {
        //                if (X.type === "theme" || X.type === "perspective") {
        //                    return 1.5
        //                }
        if (X.type === "theme") {
          return 1.5
        }
      }
      return null
    });
    E.selectAll("text.label").attr("fill", function(X) {
      return (X === L.node || X.isGroup) ? "#fff" : l(X, "#000", N, "#999")
    })
  }

  function p(X) {
    return X.toLowerCase().replace(/[ .,()]/g, "-")
  }

  function u(X) {
    return X.key
  }

  function l(X, aa, Z, Y) {
    if (k.node === null) {
      return aa
    }
    return k.map[X.key] ? Z : aa
  }
};

//Package.js

(function() {
  packages = {

    // Lazily construct the package hierarchy from class names.
    root: function(classes) {
      var map = {};

      function find(name, data) {
        var node = map[name],
          i;
        if (!node) {
          node = map[name] = data || {
            name: name,
            children: []
          };
          if (name.length) {
            node.parent = find(name.substring(0, i = name.lastIndexOf(".")));
            node.parent.children.push(node);
            node.key = name.substring(i + 1);
          }
        }
        return node;
      }

      classes.forEach(function(d) {
        find(d.name, d);
      });

      return map[""];
    },

    // Return a list of imports for the given array of nodes.
    imports: function(nodes) {
      var map = {},
        imports = [];

      // Compute a map from name to node.
      nodes.forEach(function(d) {
        map[d.name] = d;
      });

      // For each import, construct a link from the source to target node.
      nodes.forEach(function(d) {
        if (d.imports) d.imports.forEach(function(i) {
          imports.push({
            source: map[d.name],
            target: map[i]
          });
        });
      });

      return imports;
    }

  };
})();
